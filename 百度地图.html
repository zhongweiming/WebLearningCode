<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>index</title>
    <style type="text/css">
        #dituContent{
            width: 700px;
            height: 400px;
            border: 2px solid #0ff;
        }
    </style>
</head>
<!-- 调用百度地图的js 这是1.4版本的写法，现在都用2.0以上的版本，但是必须申请秘钥-->
<!-- <script type="text/javascript" src="http://api.map.baidu.com/api?key=&v=1.1&services=true"></script> -->

<script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=RXWdRMYGQ4hapjq4bVcYPFui31E1nl1P"></script>
<body>
<div id="dituContent">  
</div>
<script type="text/javascript">
    // if(navigator.geolocation){
    //      alert("您的浏览器支持地理定位");
    //     navigator.geolocation.getCurrentPosition(function(p){
    //         alert("22");
    //         var latitude=p.coords.latitude;
    //         var longitude=p.coords.longitude;
    //         // alert("纬度"+latitude+"经度"+longitude);
    //         alert(latitude);
    //         //createMap(latitude,longitude);
    //         // alert(1);
    //     });
    // }else{
    //     alert("您的浏览器不支持地理定位");
    // }
// <!-- 把我们获取到的经纬度传给百度地图来给我显示位置 -->
    // function createMap(a,b){
    //     var map = new BMap.Map("dituContent");//其中dituContent是一个div容器的id，以便地图显示在那里。
    //     var point =  new BMap.Point(b,a);//注意此时经纬度是逆着的，更加经纬度定义一个中心点。
    //     map.centerAndZoom(point,10); //设定围绕这个中心点的范围，20是最大
    //     alert(point);
    //     var myCity = new BMap.LocalCity();
    //     var cityName;
    //     yCity.get(myFun); //异步获得当前城市
    //     function myFun(result){
    //     cityName = result.name.replace('市', '');
    // }
    // alert(cityName);
    //     window.map=map; //将map变量存储在全局。
    //}
    dz();
function dz() {
    var geolocation = new BMap.Geolocation();
    geolocation.getCurrentPosition(function getinfo(position){
        city = position.address.city; //获取城市信息
        province = position.address.province;
    }, function(e) {
        alert("获取百度定位位置信息失败");
    }, {provider: 'baidu'});
}
</script>
</body>
</html>